{"ast":null,"code":"import { getProductsPending, getProductsSuccess, getProductsError, getByIdProductsPending, getByIdProductsSuccess, getByIdProductsError, deleteProductsPending, deleteProductsSuccess, deleteProductsError, postProductsPending, postProductsSuccess, postProductsError, editProductsPending, editProductsSuccess, editProductsError } from './actions';\nexport const getProducts = () => {\n  return async dispatch => {\n    dispatch(getProductsPending());\n\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/products`);\n      const json = await response.json();\n\n      if (response.status !== 200) {\n        dispatch(getProductsError(json.toString()));\n      } else {\n        dispatch(getProductsSuccess(json));\n      }\n    } catch (error) {\n      dispatch(getProductsError(error.toString()));\n    }\n  };\n};\nexport const getProductByIdOrName = id => {\n  return async dispatch => {\n    dispatch(getByIdProductsPending());\n\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/products/${id}`);\n      const json = await response.json();\n\n      if (response.status !== 200) {\n        dispatch(getByIdProductsError(json.msg.toString()));\n      } else {\n        dispatch(getByIdProductsSuccess(json));\n      }\n    } catch (error) {\n      dispatch(getByIdProductsError(error.toString()));\n    }\n  };\n};\nexport const deleteProducts = id => {\n  return async dispatch => {\n    dispatch(deleteProductsPending());\n\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/products/${id}`, {\n        method: 'DELETE',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n          token: localStorage.getItem('accessToken')\n        }\n      });\n      const json = await response.json();\n\n      if (response.status !== 200) {\n        dispatch(deleteProductsError(json.toString()));\n      } else {\n        alert(\"Producto eliminado\");\n        window.location.reload();\n      }\n    } catch (error) {\n      dispatch(deleteProductsError(error.toString()));\n    }\n  };\n};\nexport const postProducts = (id, name, description, price, stock) => {\n  return async dispatch => {\n    dispatch(postProductsPending());\n\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/products`, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n          token: localStorage.getItem('accessToken')\n        },\n        body: JSON.stringify({\n          id: id,\n          name: name,\n          description: description,\n          price: price,\n          stock: stock\n        })\n      });\n      const json = await response.json();\n\n      if (response.status === 200) {\n        alert(\"Producto agregado\");\n      } else {}\n    } catch (error) {\n      dispatch(postProductsError(error.toString()));\n    }\n  };\n};\nexport const editProducts = (id, name, description, price, stock) => {\n  return async dispatch => {\n    dispatch(editProductsPending());\n\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/products/${id}`, {\n        method: 'PUT',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n          token: localStorage.getItem('accessToken')\n        },\n        body: JSON.stringify({\n          name: name,\n          description: description,\n          price: price,\n          stock: stock\n        })\n      });\n      const json = await response.json();\n\n      if (response.status === 202) {\n        dispatch(editProductsSuccess(json));\n      } else {}\n    } catch (error) {\n      dispatch(editProductsError(error.toString()));\n    }\n  };\n};","map":{"version":3,"names":["getProductsPending","getProductsSuccess","getProductsError","getByIdProductsPending","getByIdProductsSuccess","getByIdProductsError","deleteProductsPending","deleteProductsSuccess","deleteProductsError","postProductsPending","postProductsSuccess","postProductsError","editProductsPending","editProductsSuccess","editProductsError","getProducts","dispatch","response","fetch","process","env","REACT_APP_API_URL","json","status","toString","error","getProductByIdOrName","id","msg","deleteProducts","method","headers","Accept","token","localStorage","getItem","alert","window","location","reload","postProducts","name","description","price","stock","body","JSON","stringify","editProducts"],"sources":["/Users/gonzalorescia/Desktop/UAI/Materias/4to/MCGA/final/frontfinalMCGA/src/redux/products/thunks.js"],"sourcesContent":["import {\n    getProductsPending,\n    getProductsSuccess,\n    getProductsError,\n    getByIdProductsPending,\n    getByIdProductsSuccess,\n    getByIdProductsError,\n    deleteProductsPending,\n    deleteProductsSuccess,\n    deleteProductsError,\n    postProductsPending,\n    postProductsSuccess,\n    postProductsError,\n    editProductsPending,\n    editProductsSuccess,\n    editProductsError\n  } from './actions';\n  \n  export const getProducts = () => {\n    return async (dispatch) => {\n      dispatch(getProductsPending());\n      try {\n        const response = await fetch(`${process.env.REACT_APP_API_URL}/products`);\n        const json = await response.json();\n        if(response.status !== 200 ){\n          dispatch(getProductsError(json.toString()))\n        }else {\n          dispatch(getProductsSuccess(json));\n        }\n      } catch (error) {\n        dispatch(getProductsError(error.toString()));\n      }\n    };\n  };\n\n\n  export const getProductByIdOrName = (id) => {\n    return async (dispatch) => {\n      dispatch(getByIdProductsPending());\n      try {\n        const response = await fetch(`${process.env.REACT_APP_API_URL}/products/${id}`);\n        const json = await response.json();\n        if(response.status !== 200 ){\n          dispatch(getByIdProductsError(json.msg.toString()))\n        }else {\n          dispatch(getByIdProductsSuccess(json));\n        }\n      } catch (error) {\n        dispatch(getByIdProductsError(error.toString()));\n      }\n    };\n  };\n  \n  export const deleteProducts = (id) => {\n    return async (dispatch) => {\n      dispatch(deleteProductsPending());\n      try {\n        const response = await fetch(`${process.env.REACT_APP_API_URL}/products/${id}`, {\n          method: 'DELETE',\n          headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json',\n            token: localStorage.getItem('accessToken')\n          },\n        });\n        const json = await response.json();\n        if(response.status !== 200 ){\n          dispatch(deleteProductsError(json.toString()))\n        }else {\n          alert(\"Producto eliminado\");\n          window.location.reload();\n        }\n      } catch (error) {\n        dispatch(deleteProductsError(error.toString()));\n      }\n    };\n  };\n  \n  export const postProducts = (id,name,description,price,stock) => {\n    return async (dispatch) => {\n      dispatch(postProductsPending());\n      try {\n        const response = await fetch(`${process.env.REACT_APP_API_URL}/products`,{\n            method: 'POST',\n            headers: {\n              Accept: 'application/json',\n              'Content-Type': 'application/json',\n              token: localStorage.getItem('accessToken')\n            },\n            body: JSON.stringify({\n              id: id, \n              name: name,\n              description: description,\n              price: price,\n              stock: stock\n            })\n          });\n          const json = await response.json();\n          if (response.status === 200) {\n          alert(\"Producto agregado\");\n          } else {\n          }\n        } catch (error) {\n          dispatch(postProductsError(error.toString()));\n        }\n    };\n  };\n  \n  export const editProducts = (id,name,description,price,stock) => {\n    return async (dispatch) => {\n      dispatch(editProductsPending());\n      try {\n        const response = await fetch(`${process.env.REACT_APP_API_URL}/products/${id}`,{\n            method: 'PUT',\n            headers: {\n              Accept: 'application/json',\n              'Content-Type': 'application/json',\n              token: localStorage.getItem('accessToken')\n            },\n            body: JSON.stringify({\n              name: name,\n              description: description,\n              price: price,\n              stock: stock\n            })\n          });\n          const json = await response.json();\n          if (response.status === 202) {\n            dispatch(editProductsSuccess(json));\n          } else {\n          }\n        } catch (error) {\n          dispatch(editProductsError(error.toString()));\n        }\n    };\n  };"],"mappings":"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"},"metadata":{},"sourceType":"module"}